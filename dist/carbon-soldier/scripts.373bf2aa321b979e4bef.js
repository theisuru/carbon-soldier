function gear({teeth:t,radius:a,annulus:n}){const s=t;let i=Math.abs(a),r=i-4,e=i+4,o=10;n&&(o=r,r=e,e=o,o=i+12);const h=Math.PI/s;let l=-Math.PI/2+(n?Math.PI/s:0);const d=["M",r*Math.cos(l),",",r*Math.sin(l)];let c=-1;for(;++c<s;)d.push("A",r,",",r," 0 0,1 ",r*Math.cos(l+=h),",",r*Math.sin(l),"L",i*Math.cos(l),",",i*Math.sin(l),"L",e*Math.cos(l+=h/3),",",e*Math.sin(l),"A",e,",",e," 0 0,1 ",e*Math.cos(l+=h/3),",",e*Math.sin(l),"L",i*Math.cos(l+=h/3),",",i*Math.sin(l),"L",r*Math.cos(l),",",r*Math.sin(l));return d.push("M0,",-o,"A",o,",",o," 0 0,0 0,",o,"A",o,",",o," 0 0,0 0,",-o,"Z"),d.join("")}function drawGear(){const t=Math.sin(2*Math.PI/3),a=Math.cos(2*Math.PI/3),n=Date.now(),s=d3.select("div").append("svg").attr("width",600).attr("height",500),i=s.append("g").attr("transform","translate(300,250)").append("g").datum({radius:100}),r=i.selectAll("g").data([{fill:"#c6dbef",teeth:80,radius:-225,origin:[0,0],annulus:!0},{fill:"#6baed6",teeth:16,radius:45,origin:[0,0]},{fill:"#9ecae1",teeth:32,radius:-90,origin:[0,-135]},{fill:"#9ecae1",teeth:32,radius:-90,origin:[-135*t,-135*a]},{fill:"#9ecae1",teeth:32,radius:-90,origin:[135*t,-135*a]}]).join("g").attr("transform",t=>`translate(${t.origin})`).append("path").attr("stroke","black").attr("fill",t=>t.fill).attr("d",gear);d3.interval(function(){drawInCanvas(2,n,r,i,s)},10,100)}function drawInCanvas(t,a,n,s,i){const r=(Date.now()-a)*t,e=t=>`rotate(${r/t.radius})`;n.attr("transform",e),s.attr("transform",e),i.node()}